{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import React,{useReducer,createContext}from\"react\";import FOODDATA from\"../data/FOODDATA\";import{jsx as _jsx}from\"react/jsx-runtime\";var initialState={products:null,isLoading:false,isLoaded:false};export var ProductsStateContext=createContext();export var ProductsDispatchContext=createContext();var reducer=function reducer(state,action){switch(action.type){case\"GET_PRODUCTS_REQUEST\":return _objectSpread(_objectSpread({},state),{},{isLoading:true,isLoaded:false});case\"GET_PRODUCTS_SUCCESS\":return _objectSpread(_objectSpread({},state),{},{isLoading:false,isLoaded:true,products:action.payload.products});case\"GET_PRODUCTS_FAILURE\":return _objectSpread(_objectSpread({},state),{},{products:null,isLoading:false,isLoaded:false});default:throw new Error(\"Unknown action: \"+action.type);}};var ProductsProvider=function ProductsProvider(_ref){var children=_ref.children;var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return _jsx(ProductsDispatchContext.Provider,{value:dispatch,children:_jsx(ProductsStateContext.Provider,{value:state,children:children})});};export var getProducts=function getProducts(dispatch){dispatch({type:\"GET_PRODUCTS_REQUEST\"});var url={FOODDATA:FOODDATA};get(url).then(function(response){dispatch({type:\"GET_PRODUCTS_SUCCESS\",payload:{products:response.data}});}).catch(function(error){console.error(error);dispatch({type:\"GET_PRODUCTS_FAILURE\"});});};export default ProductsProvider;","map":{"version":3,"sources":["C:/Users/miche/Desktop/hwangskitchen/contexts/products.js"],"names":["React","useReducer","createContext","FOODDATA","initialState","products","isLoading","isLoaded","ProductsStateContext","ProductsDispatchContext","reducer","state","action","type","payload","Error","ProductsProvider","children","dispatch","getProducts","url","get","then","response","data","catch","error","console"],"mappings":"y4BAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,aAA5B,KAAiD,OAAjD,CACA,MAAOC,CAAAA,QAAP,wB,2CAEA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,QAAQ,CAAE,IADS,CAEnBC,SAAS,CAAE,KAFQ,CAGnBC,QAAQ,CAAE,KAHS,CAArB,CAMA,MAAO,IAAMC,CAAAA,oBAAoB,CAAGN,aAAa,EAA1C,CACP,MAAO,IAAMO,CAAAA,uBAAuB,CAAGP,aAAa,EAA7C,CAEP,GAAMQ,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAQC,MAAR,CAAmB,CACjC,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK,sBAAL,CACE,sCACKF,KADL,MAEEL,SAAS,CAAE,IAFb,CAGEC,QAAQ,CAAE,KAHZ,GAKF,IAAK,sBAAL,CACE,sCACKI,KADL,MAEEL,SAAS,CAAE,KAFb,CAGEC,QAAQ,CAAE,IAHZ,CAIEF,QAAQ,CAAEO,MAAM,CAACE,OAAP,CAAeT,QAJ3B,GAMF,IAAK,sBAAL,CACE,sCACKM,KADL,MAEEN,QAAQ,CAAE,IAFZ,CAGEC,SAAS,CAAE,KAHb,CAIEC,QAAQ,CAAE,KAJZ,GAMF,QACE,KAAM,IAAIQ,CAAAA,KAAJ,oBAA6BH,MAAM,CAACC,IAApC,CAAN,CAtBJ,CAwBD,CAzBD,CA2BA,GAAMG,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CACzC,gBAA0BhB,UAAU,CAACS,OAAD,CAAUN,YAAV,CAApC,4CAAOO,KAAP,iBAAcO,QAAd,iBACA,MACE,MAAC,uBAAD,CAAyB,QAAzB,EAAkC,KAAK,CAAEA,QAAzC,UACE,KAAC,oBAAD,CAAsB,QAAtB,EAA+B,KAAK,CAAEP,KAAtC,UACGM,QADH,EADF,EADF,CAOD,CATD,CAWA,MAAO,IAAME,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACD,QAAD,CAAc,CACvCA,QAAQ,CAAC,CACPL,IAAI,CAAE,sBADC,CAAD,CAAR,CAGA,GAAMO,CAAAA,GAAG,CACP,CAAEjB,QAAQ,CAARA,QAAF,CADF,CAGEkB,GAAG,CAACD,GAAD,CAAH,CACCE,IADD,CACM,SAACC,QAAD,CAAc,CAClBL,QAAQ,CAAC,CACPL,IAAI,CAAE,sBADC,CAEPC,OAAO,CAAE,CACPT,QAAQ,CAAEkB,QAAQ,CAACC,IADZ,CAFF,CAAD,CAAR,CAMD,CARD,EASCC,KATD,CASO,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACD,KAAR,CAAcA,KAAd,EACAR,QAAQ,CAAC,CACPL,IAAI,CAAE,sBADC,CAAD,CAAR,CAGD,CAdD,EAeH,CAtBM,CAwBP,cAAeG,CAAAA,gBAAf","sourcesContent":["import React, { useReducer, createContext } from \"react\";\r\nimport FOODDATA from \"../data/FOODDATA\";\r\n\r\nconst initialState = {\r\n  products: null,\r\n  isLoading: false,\r\n  isLoaded: false\r\n};\r\n\r\nexport const ProductsStateContext = createContext();\r\nexport const ProductsDispatchContext = createContext();\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"GET_PRODUCTS_REQUEST\":\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        isLoaded: false\r\n      };\r\n    case \"GET_PRODUCTS_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        isLoaded: true,\r\n        products: action.payload.products\r\n      };\r\n    case \"GET_PRODUCTS_FAILURE\":\r\n      return {\r\n        ...state,\r\n        products: null,\r\n        isLoading: false,\r\n        isLoaded: false\r\n      };\r\n    default:\r\n      throw new Error(`Unknown action: ${action.type}`);\r\n  }\r\n};\r\n\r\nconst ProductsProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  return (\r\n    <ProductsDispatchContext.Provider value={dispatch}>\r\n      <ProductsStateContext.Provider value={state}>\r\n        {children}\r\n      </ProductsStateContext.Provider>\r\n    </ProductsDispatchContext.Provider>\r\n  );\r\n};\r\n\r\nexport const getProducts = (dispatch) => {\r\n  dispatch({\r\n    type: \"GET_PRODUCTS_REQUEST\"\r\n  });\r\n  const url =\r\n    { FOODDATA };\r\n  \r\n    get(url)\r\n    .then((response) => {\r\n      dispatch({\r\n        type: \"GET_PRODUCTS_SUCCESS\",\r\n        payload: {\r\n          products: response.data\r\n        }\r\n      });\r\n    })\r\n    .catch((error) => {\r\n      console.error(error);\r\n      dispatch({\r\n        type: \"GET_PRODUCTS_FAILURE\"\r\n      });\r\n    });\r\n};\r\n\r\nexport default ProductsProvider;\r\n"]},"metadata":{},"sourceType":"module"}