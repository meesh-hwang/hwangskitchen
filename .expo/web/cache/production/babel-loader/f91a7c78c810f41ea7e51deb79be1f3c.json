{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from\"react\";import times from\"lodash/times\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import Animated from\"react-native-web/dist/exports/Animated\";import PanResponder from\"react-native-web/dist/exports/PanResponder\";import Image from\"react-native-web/dist/exports/Image\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Platform from\"react-native-web/dist/exports/Platform\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var STAR_IMAGE=require(\"./images/star.png\");var HEART_IMAGE=require(\"./images/heart.png\");var ROCKET_IMAGE=require(\"./images/rocket.png\");var BELL_IMAGE=require(\"./images/bell.png\");var TYPES={star:{source:STAR_IMAGE,color:\"#f1c40f\",backgroundColor:\"white\"},heart:{source:HEART_IMAGE,color:\"#e74c3c\",backgroundColor:\"white\"},rocket:{source:ROCKET_IMAGE,color:\"#2ecc71\",backgroundColor:\"white\"},bell:{source:BELL_IMAGE,color:\"#f39c12\",backgroundColor:\"white\"},custom:{}};var fractionsType=function fractionsType(props,propName,componentName){if(props[propName]){var value=props[propName];if(typeof value===\"number\"){return value>=0&&value<=20?null:new Error(\"`\"+propName+\"` in `\"+componentName+\"` must be between 0 and 20\");}return new Error(\"`\"+propName+\"` in `\"+componentName+\"` must be a number\");}};var SwipeRating=function(_Component){_inherits(SwipeRating,_Component);var _super=_createSuper(SwipeRating);function SwipeRating(props){var _this;_classCallCheck(this,SwipeRating);_this=_super.call(this,props);var _this$props=_this.props,onStartRating=_this$props.onStartRating,onSwipeRating=_this$props.onSwipeRating,onFinishRating=_this$props.onFinishRating,fractions=_this$props.fractions;var position=new Animated.ValueXY();var panResponder=PanResponder.create({onStartShouldSetPanResponder:function onStartShouldSetPanResponder(){return true;},onPanResponderGrant:function onPanResponderGrant(event,gesture){var newPosition=new Animated.ValueXY();var tapPositionX=gesture.x0-_this.state.centerX+gesture.dx;newPosition.setValue({x:tapPositionX,y:0});if(_this.state.isComponentMounted){_this.setState({position:newPosition,value:tapPositionX});var rating=_this.getCurrentRating(tapPositionX);if(typeof onStartRating===\"function\"){onStartRating(rating);}}},onPanResponderMove:function onPanResponderMove(event,gesture){var newPosition=new Animated.ValueXY();var tapPositionX=gesture.x0-_this.state.centerX+gesture.dx;newPosition.setValue({x:tapPositionX,y:0});if(_this.state.isComponentMounted){_this.setState({position:newPosition,value:tapPositionX});var rating=_this.getCurrentRating(tapPositionX);if(typeof onSwipeRating===\"function\"){onSwipeRating(rating);}}},onPanResponderRelease:function onPanResponderRelease(){var rating=_this.getCurrentRating(_this.state.value);if(rating>=_this.props.minValue){if(!fractions){_this.setCurrentRating(rating);}if(typeof onFinishRating===\"function\"){onFinishRating(rating);}}}});_this.state={panResponder:panResponder,position:position,display:false,isComponentMounted:false};return _this;}_createClass(SwipeRating,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;try{this.setState({display:true,isComponentMounted:true},function(){return _this2.setCurrentRating(_this2.props.startingValue);});}catch(err){console.log(err);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.startingValue!==prevProps.startingValue){this.setCurrentRating(this.props.startingValue);}}},{key:\"handleLayoutChange\",value:function handleLayoutChange(){var _this3=this;this.ratingRef.measure(function(fx,fy,width,height,px){var halfWidth=width/2;var pageXWithinWindow=px%Dimensions.get(\"window\").width;_this3.setState({centerX:pageXWithinWindow+halfWidth});});}},{key:\"getPrimaryViewStyle\",value:function getPrimaryViewStyle(){var position=this.state.position;var _this$props2=this.props,imageSize=_this$props2.imageSize,ratingCount=_this$props2.ratingCount,type=_this$props2.type;var color=TYPES[type].color;var width=position.x.interpolate({inputRange:[-ratingCount*(imageSize/2),0,ratingCount*(imageSize/2)],outputRange:[0,ratingCount*imageSize/2,ratingCount*imageSize],extrapolate:\"clamp\"},{useNativeDriver:true});return{backgroundColor:color,width:width,height:width?imageSize:0};}},{key:\"getSecondaryViewStyle\",value:function getSecondaryViewStyle(){var position=this.state.position;var _this$props3=this.props,imageSize=_this$props3.imageSize,ratingCount=_this$props3.ratingCount,type=_this$props3.type;var backgroundColor=TYPES[type].backgroundColor;var width=position.x.interpolate({inputRange:[-ratingCount*(imageSize/2),0,ratingCount*(imageSize/2)],outputRange:[ratingCount*imageSize,ratingCount*imageSize/2,0],extrapolate:\"clamp\"},{useNativeDriver:true});return{backgroundColor:backgroundColor,width:width,height:width?imageSize:0};}},{key:\"renderRatings\",value:function renderRatings(){var _this$props4=this.props,imageSize=_this$props4.imageSize,ratingCount=_this$props4.ratingCount,type=_this$props4.type,tintColor=_this$props4.tintColor;var source=TYPES[type].source;return times(ratingCount,function(index){return _jsx(View,{style:styles.starContainer,children:_jsx(Image,{source:source,style:{width:imageSize,height:imageSize,tintColor:tintColor}})},index);});}},{key:\"getCurrentRating\",value:function getCurrentRating(value){var _this$props5=this.props,fractions=_this$props5.fractions,imageSize=_this$props5.imageSize,ratingCount=_this$props5.ratingCount;var startingValue=ratingCount/2;var currentRating=this.props.minValue?this.props.minValue:0;if(value>ratingCount*imageSize/2){currentRating=ratingCount;}else if(value<-ratingCount*imageSize/2){currentRating=this.props.minValue?this.props.minValue:0;}else if(value<=imageSize||value>imageSize){var diff=value/imageSize;currentRating=startingValue+diff;currentRating=fractions?Number(currentRating.toFixed(fractions)):Math.ceil(currentRating);}else{currentRating=fractions?Number(startingValue.toFixed(fractions)):Math.ceil(startingValue);}if(this.props.jumpValue>0&&this.props.jumpValue<this.props.ratingCount){return Math.ceil(currentRating*(1/this.props.jumpValue))/(1/this.props.jumpValue);}else{return currentRating;}}},{key:\"setCurrentRating\",value:function setCurrentRating(rating){var _this$props6=this.props,imageSize=_this$props6.imageSize,ratingCount=_this$props6.ratingCount;var initialRating=ratingCount/2;var value=null;if(rating>ratingCount){value=ratingCount*imageSize/2;}else if(rating<0){value=-ratingCount*imageSize/2;}else if(rating<ratingCount/2||rating>ratingCount/2){value=(rating-initialRating)*imageSize;}else{value=0;}var newPosition=new Animated.ValueXY();newPosition.setValue({x:value,y:0});if(this.state.isComponentMounted){this.setState({position:newPosition,value:value});}}},{key:\"displayCurrentRating\",value:function displayCurrentRating(){var _this$props7=this.props,ratingCount=_this$props7.ratingCount,type=_this$props7.type,readonly=_this$props7.readonly,showReadOnlyText=_this$props7.showReadOnlyText,ratingTextColor=_this$props7.ratingTextColor;var color=ratingTextColor||TYPES[type].color;return _jsxs(View,{style:styles.showRatingView,children:[_jsxs(View,{style:styles.ratingView,children:[_jsx(Text,{style:[styles.ratingText,{color:color}],children:\"Rating: \"}),_jsx(Text,{style:[styles.currentRatingText,{color:color}],children:this.getCurrentRating(this.state.value)}),_jsxs(Text,{style:[styles.maxRatingText,{color:color}],children:[\"/\",ratingCount]})]}),_jsx(View,{children:readonly&&showReadOnlyText&&_jsx(Text,{style:[styles.readonlyLabel,{color:color}],children:\"(readonly)\"})})]});}},{key:\"render\",value:function render(){var _this4=this;var _this$props8=this.props,readonly=_this$props8.readonly,type=_this$props8.type,ratingImage=_this$props8.ratingImage,ratingColor=_this$props8.ratingColor,ratingBackgroundColor=_this$props8.ratingBackgroundColor,style=_this$props8.style,showRating=_this$props8.showRating;if(type===\"custom\"){var custom={source:ratingImage,color:ratingColor,backgroundColor:ratingBackgroundColor};TYPES.custom=custom;}return this.state.display?_jsxs(View,{pointerEvents:readonly?\"none\":\"auto\",style:style,children:[showRating&&this.displayCurrentRating(),_jsxs(View,_objectSpread(_objectSpread({style:styles.starsWrapper},this.state.panResponder.panHandlers),{},{children:[_jsxs(View,{style:styles.starsInsideWrapper,onLayout:function onLayout(){_this4.handleLayoutChange();},ref:function ref(view){_this4.ratingRef=view;},children:[_jsx(Animated.View,{style:this.getPrimaryViewStyle()}),_jsx(Animated.View,{style:this.getSecondaryViewStyle()})]}),this.renderRatings()]}))]}):null;}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.setState({isComponentMounted:false});}}]);return SwipeRating;}(Component);export{SwipeRating as default};SwipeRating.defaultProps={type:\"star\",ratingImage:STAR_IMAGE,ratingColor:\"#f1c40f\",ratingBackgroundColor:\"white\",ratingCount:5,showReadOnlyText:true,imageSize:40,minValue:0,jumpValue:0};var styles=StyleSheet.create({starsWrapper:{flexDirection:\"row\",justifyContent:\"center\",alignItems:\"center\"},starsInsideWrapper:{position:\"absolute\",top:0,left:0,right:0,bottom:0,flexDirection:\"row\",justifyContent:\"center\",alignItems:\"center\"},showRatingView:{flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",paddingBottom:5},ratingView:{flexDirection:\"row\",justifyContent:\"center\",alignItems:\"center\",paddingBottom:5},ratingText:{fontSize:15,textAlign:\"center\",fontFamily:Platform.OS===\"ios\"?\"Trebuchet MS\":null,color:\"#34495e\"},readonlyLabel:{justifyContent:\"center\",alignItems:\"center\",fontSize:12,textAlign:\"center\",fontFamily:Platform.OS===\"ios\"?\"Trebuchet MS\":null,color:\"#34495a\"},currentRatingText:{fontSize:30,textAlign:\"center\",fontFamily:Platform.OS===\"ios\"?\"Trebuchet MS\":null},maxRatingText:{fontSize:18,textAlign:\"center\",fontFamily:Platform.OS===\"ios\"?\"Trebuchet MS\":null,color:\"#34495e\"}});","map":{"version":3,"sources":["C:/Users/miche/Desktop/hwangskitchen/node_modules/react-native-ratings/dist/SwipeRating.js"],"names":["React","Component","times","STAR_IMAGE","require","HEART_IMAGE","ROCKET_IMAGE","BELL_IMAGE","TYPES","star","source","color","backgroundColor","heart","rocket","bell","custom","fractionsType","props","propName","componentName","value","Error","SwipeRating","onStartRating","onSwipeRating","onFinishRating","fractions","position","Animated","ValueXY","panResponder","PanResponder","create","onStartShouldSetPanResponder","onPanResponderGrant","event","gesture","newPosition","tapPositionX","x0","state","centerX","dx","setValue","x","y","isComponentMounted","setState","rating","getCurrentRating","onPanResponderMove","onPanResponderRelease","minValue","setCurrentRating","display","startingValue","err","console","log","prevProps","ratingRef","measure","fx","fy","width","height","px","halfWidth","pageXWithinWindow","Dimensions","get","imageSize","ratingCount","type","interpolate","inputRange","outputRange","extrapolate","useNativeDriver","tintColor","index","styles","starContainer","currentRating","diff","Number","toFixed","Math","ceil","jumpValue","initialRating","readonly","showReadOnlyText","ratingTextColor","showRatingView","ratingView","ratingText","currentRatingText","maxRatingText","readonlyLabel","ratingImage","ratingColor","ratingBackgroundColor","style","showRating","displayCurrentRating","starsWrapper","panHandlers","starsInsideWrapper","handleLayoutChange","view","getPrimaryViewStyle","getSecondaryViewStyle","renderRatings","defaultProps","StyleSheet","flexDirection","justifyContent","alignItems","top","left","right","bottom","paddingBottom","fontSize","textAlign","fontFamily","Platform","OS"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport times from \"lodash/times\";\nimport { View, Text, Animated, PanResponder, Image, StyleSheet, Platform, Dimensions } from \"react-native\";\n// RATING IMAGES WITH STATIC BACKGROUND COLOR (white)\nconst STAR_IMAGE = require(\"./images/star.png\");\nconst HEART_IMAGE = require(\"./images/heart.png\");\nconst ROCKET_IMAGE = require(\"./images/rocket.png\");\nconst BELL_IMAGE = require(\"./images/bell.png\");\nconst TYPES = {\n    star: {\n        source: STAR_IMAGE,\n        color: \"#f1c40f\",\n        backgroundColor: \"white\"\n    },\n    heart: {\n        source: HEART_IMAGE,\n        color: \"#e74c3c\",\n        backgroundColor: \"white\"\n    },\n    rocket: {\n        source: ROCKET_IMAGE,\n        color: \"#2ecc71\",\n        backgroundColor: \"white\"\n    },\n    bell: {\n        source: BELL_IMAGE,\n        color: \"#f39c12\",\n        backgroundColor: \"white\"\n    },\n    custom: {}\n};\nconst fractionsType = (props, propName, componentName) => {\n    if (props[propName]) {\n        const value = props[propName];\n        if (typeof value === \"number\") {\n            return value >= 0 && value <= 20 ?\n                null :\n                new Error(`\\`${propName}\\` in \\`${componentName}\\` must be between 0 and 20`);\n        }\n        return new Error(`\\`${propName}\\` in \\`${componentName}\\` must be a number`);\n    }\n};\nexport default class SwipeRating extends Component {\n    constructor(props) {\n        super(props);\n        const { onStartRating, onSwipeRating, onFinishRating, fractions } = this.props;\n        const position = new Animated.ValueXY();\n        const panResponder = PanResponder.create({\n            onStartShouldSetPanResponder: () => true,\n            onPanResponderGrant: (event, gesture) => {\n                const newPosition = new Animated.ValueXY();\n                const tapPositionX = gesture.x0 - this.state.centerX + gesture.dx;\n                newPosition.setValue({ x: tapPositionX, y: 0 });\n                if (this.state.isComponentMounted) {\n                    this.setState({ position: newPosition, value: tapPositionX });\n                    const rating = this.getCurrentRating(tapPositionX);\n                    if (typeof onStartRating === \"function\") {\n                        onStartRating(rating);\n                    }\n                }\n            },\n            onPanResponderMove: (event, gesture) => {\n                const newPosition = new Animated.ValueXY();\n                const tapPositionX = gesture.x0 - this.state.centerX + gesture.dx;\n                newPosition.setValue({ x: tapPositionX, y: 0 });\n                if (this.state.isComponentMounted) {\n                    this.setState({ position: newPosition, value: tapPositionX });\n                    const rating = this.getCurrentRating(tapPositionX);\n                    if (typeof onSwipeRating === \"function\") {\n                        onSwipeRating(rating);\n                    }\n                }\n            },\n            onPanResponderRelease: () => {\n                const rating = this.getCurrentRating(this.state.value);\n                if (rating >= this.props.minValue) {\n                    if (!fractions) {\n                        // 'round up' to the nearest rating image\n                        this.setCurrentRating(rating);\n                    }\n                    if (typeof onFinishRating === \"function\") {\n                        onFinishRating(rating);\n                    }\n                }\n            }\n        });\n        this.state = {\n            panResponder,\n            position,\n            display: false,\n            isComponentMounted: false\n        };\n    }\n    componentDidMount() {\n        try {\n            this.setState({ display: true, isComponentMounted: true }, () => this.setCurrentRating(this.props.startingValue));\n        }\n        catch (err) {\n            // eslint-disable-next-line no-console\n            console.log(err);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (this.props.startingValue !== prevProps.startingValue) {\n            this.setCurrentRating(this.props.startingValue);\n        }\n    }\n    handleLayoutChange() {\n        // eslint-disable-next-line max-params\n        this.ratingRef.measure((fx, fy, width, height, px) => {\n            const halfWidth = width / 2;\n            const pageXWithinWindow = px % Dimensions.get(\"window\").width;\n            this.setState({\n                centerX: pageXWithinWindow + halfWidth\n            });\n        });\n    }\n    getPrimaryViewStyle() {\n        const { position } = this.state;\n        const { imageSize, ratingCount, type } = this.props;\n        const { color } = TYPES[type];\n        const width = position.x.interpolate({\n            inputRange: [\n                -ratingCount * (imageSize / 2),\n                0,\n                ratingCount * (imageSize / 2)\n            ],\n            outputRange: [\n                0,\n                ratingCount * imageSize / 2,\n                ratingCount * imageSize\n            ],\n            extrapolate: \"clamp\"\n        }, {\n            useNativeDriver: true\n        });\n        return {\n            backgroundColor: color,\n            width,\n            height: width ? imageSize : 0\n        };\n    }\n    getSecondaryViewStyle() {\n        const { position } = this.state;\n        const { imageSize, ratingCount, type } = this.props;\n        const { backgroundColor } = TYPES[type];\n        const width = position.x.interpolate({\n            inputRange: [\n                -ratingCount * (imageSize / 2),\n                0,\n                ratingCount * (imageSize / 2)\n            ],\n            outputRange: [\n                ratingCount * imageSize,\n                ratingCount * imageSize / 2,\n                0\n            ],\n            extrapolate: \"clamp\"\n        }, {\n            useNativeDriver: true\n        });\n        return {\n            backgroundColor,\n            width,\n            height: width ? imageSize : 0\n        };\n    }\n    renderRatings() {\n        const { imageSize, ratingCount, type, tintColor } = this.props;\n        const { source } = TYPES[type];\n        return times(ratingCount, index => <View key={index} style={styles.starContainer}>\n        <Image source={source} style={{ width: imageSize, height: imageSize, tintColor }}/>\n      </View>);\n    }\n    // eslint-disable-next-line max-statements\n    getCurrentRating(value) {\n        const { fractions, imageSize, ratingCount } = this.props;\n        const startingValue = ratingCount / 2;\n        let currentRating = this.props.minValue ? this.props.minValue : 0;\n        if (value > ratingCount * imageSize / 2) {\n            currentRating = ratingCount;\n        }\n        else if (value < -ratingCount * imageSize / 2) {\n            currentRating = this.props.minValue ? this.props.minValue : 0;\n        }\n        else if (value <= imageSize || value > imageSize) {\n            const diff = value / imageSize;\n            currentRating = startingValue + diff;\n            currentRating = fractions ?\n                Number(currentRating.toFixed(fractions)) :\n                Math.ceil(currentRating);\n        }\n        else {\n            currentRating = fractions ?\n                Number(startingValue.toFixed(fractions)) :\n                Math.ceil(startingValue);\n        }\n        if (this.props.jumpValue > 0 &&\n            this.props.jumpValue < this.props.ratingCount) {\n            return (Math.ceil(currentRating * (1 / this.props.jumpValue)) /\n                (1 / this.props.jumpValue));\n        }\n        else {\n            return currentRating;\n        }\n    }\n    // eslint-disable-next-line max-statements\n    setCurrentRating(rating) {\n        const { imageSize, ratingCount } = this.props;\n        // `initialRating` corresponds to `startingValue` in the getter. Naming it\n        // Differently here avoids confusion with `value` below.\n        const initialRating = ratingCount / 2;\n        let value = null;\n        if (rating > ratingCount) {\n            value = ratingCount * imageSize / 2;\n        }\n        else if (rating < 0) {\n            value = -ratingCount * imageSize / 2;\n        }\n        else if (rating < ratingCount / 2 || rating > ratingCount / 2) {\n            value = (rating - initialRating) * imageSize;\n        }\n        else {\n            value = 0;\n        }\n        const newPosition = new Animated.ValueXY();\n        newPosition.setValue({ x: value, y: 0 });\n        if (this.state.isComponentMounted) {\n            this.setState({ position: newPosition, value });\n        }\n    }\n    displayCurrentRating() {\n        const { ratingCount, type, readonly, showReadOnlyText, ratingTextColor } = this.props;\n        const color = ratingTextColor || TYPES[type].color;\n        return (<View style={styles.showRatingView}>\n        <View style={styles.ratingView}>\n          <Text style={[styles.ratingText, { color }]}>Rating: </Text>\n          <Text style={[styles.currentRatingText, { color }]}>\n            {this.getCurrentRating(this.state.value)}\n          </Text>\n          <Text style={[styles.maxRatingText, { color }]}>/{ratingCount}</Text>\n        </View>\n        <View>\n          {readonly && showReadOnlyText &&\n                <Text style={[styles.readonlyLabel, { color }]}>(readonly)</Text>}\n        </View>\n      </View>);\n    }\n    render() {\n        const { readonly, type, ratingImage, ratingColor, ratingBackgroundColor, style, showRating } = this.props;\n        if (type === \"custom\") {\n            const custom = {\n                source: ratingImage,\n                color: ratingColor,\n                backgroundColor: ratingBackgroundColor\n            };\n            TYPES.custom = custom;\n        }\n        return this.state.display ?\n            <View pointerEvents={readonly ? \"none\" : \"auto\"} style={style}>\n        {showRating && this.displayCurrentRating()}\n        <View style={styles.starsWrapper} {...this.state.panResponder.panHandlers}>\n          <View style={styles.starsInsideWrapper} onLayout={() => {\n                    this.handleLayoutChange();\n                }} ref={view => {\n                    this.ratingRef = view;\n                }}>\n            <Animated.View style={this.getPrimaryViewStyle()}/>\n            <Animated.View style={this.getSecondaryViewStyle()}/>\n          </View>\n          {this.renderRatings()}\n        </View>\n      </View> :\n            null;\n    }\n    componentWillUnmount() {\n        this.setState({ isComponentMounted: false });\n    }\n}\nSwipeRating.defaultProps = {\n    type: \"star\",\n    ratingImage: STAR_IMAGE,\n    ratingColor: \"#f1c40f\",\n    ratingBackgroundColor: \"white\",\n    ratingCount: 5,\n    showReadOnlyText: true,\n    imageSize: 40,\n    minValue: 0,\n    jumpValue: 0\n};\nconst styles = StyleSheet.create({\n    starsWrapper: {\n        flexDirection: \"row\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    starsInsideWrapper: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        flexDirection: \"row\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    showRatingView: {\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        paddingBottom: 5\n    },\n    ratingView: {\n        flexDirection: \"row\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        paddingBottom: 5\n    },\n    ratingText: {\n        fontSize: 15,\n        textAlign: \"center\",\n        fontFamily: Platform.OS === \"ios\" ? \"Trebuchet MS\" : null,\n        color: \"#34495e\"\n    },\n    readonlyLabel: {\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        fontSize: 12,\n        textAlign: \"center\",\n        fontFamily: Platform.OS === \"ios\" ? \"Trebuchet MS\" : null,\n        color: \"#34495a\"\n    },\n    currentRatingText: {\n        fontSize: 30,\n        textAlign: \"center\",\n        fontFamily: Platform.OS === \"ios\" ? \"Trebuchet MS\" : null\n    },\n    maxRatingText: {\n        fontSize: 18,\n        textAlign: \"center\",\n        fontFamily: Platform.OS === \"ios\" ? \"Trebuchet MS\" : null,\n        color: \"#34495e\"\n    }\n});\n"]},"metadata":{},"sourceType":"module"}