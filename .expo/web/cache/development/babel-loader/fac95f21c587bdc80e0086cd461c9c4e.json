{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useReducer, createContext } from \"react\";\nimport FOODDATA from \"../data/FOODDATA\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar initialState = {\n  products: null,\n  isLoading: false,\n  isLoaded: false\n};\nexport var ProductsStateContext = createContext();\nexport var ProductsDispatchContext = createContext();\n\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case \"GET_PRODUCTS_REQUEST\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isLoading: true,\n        isLoaded: false\n      });\n\n    case \"GET_PRODUCTS_SUCCESS\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isLoading: false,\n        isLoaded: true,\n        products: action.payload.products\n      });\n\n    case \"GET_PRODUCTS_FAILURE\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        products: null,\n        isLoading: false,\n        isLoaded: false\n      });\n\n    default:\n      throw new Error(\"Unknown action: \" + action.type);\n  }\n};\n\nvar ProductsProvider = function ProductsProvider(_ref) {\n  var children = _ref.children;\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  return _jsx(ProductsDispatchContext.Provider, {\n    value: dispatch,\n    children: _jsx(ProductsStateContext.Provider, {\n      value: state,\n      children: children\n    })\n  });\n};\n\nexport var getProducts = function getProducts(dispatch) {\n  dispatch({\n    type: \"GET_PRODUCTS_REQUEST\"\n  });\n  var url = {\n    FOODDATA: FOODDATA\n  };\n  axios.get(url).then(function (response) {\n    dispatch({\n      type: \"GET_PRODUCTS_SUCCESS\",\n      payload: {\n        products: response.data\n      }\n    });\n  }).catch(function (error) {\n    console.error(error);\n    dispatch({\n      type: \"GET_PRODUCTS_FAILURE\"\n    });\n  });\n};\nexport default ProductsProvider;","map":{"version":3,"sources":["C:/Users/miche/Desktop/hwangskitchen/contexts/products.js"],"names":["React","useReducer","createContext","FOODDATA","initialState","products","isLoading","isLoaded","ProductsStateContext","ProductsDispatchContext","reducer","state","action","type","payload","Error","ProductsProvider","children","dispatch","getProducts","url","axios","get","then","response","data","catch","error","console"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,aAA5B,QAAiD,OAAjD;AACA,OAAOC,QAAP;;AAEA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE,IADS;AAEnBC,EAAAA,SAAS,EAAE,KAFQ;AAGnBC,EAAAA,QAAQ,EAAE;AAHS,CAArB;AAMA,OAAO,IAAMC,oBAAoB,GAAGN,aAAa,EAA1C;AACP,OAAO,IAAMO,uBAAuB,GAAGP,aAAa,EAA7C;;AAEP,IAAMQ,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD,EAAQC,MAAR,EAAmB;AACjC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,sBAAL;AACE,6CACKF,KADL;AAEEL,QAAAA,SAAS,EAAE,IAFb;AAGEC,QAAAA,QAAQ,EAAE;AAHZ;;AAKF,SAAK,sBAAL;AACE,6CACKI,KADL;AAEEL,QAAAA,SAAS,EAAE,KAFb;AAGEC,QAAAA,QAAQ,EAAE,IAHZ;AAIEF,QAAAA,QAAQ,EAAEO,MAAM,CAACE,OAAP,CAAeT;AAJ3B;;AAMF,SAAK,sBAAL;AACE,6CACKM,KADL;AAEEN,QAAAA,QAAQ,EAAE,IAFZ;AAGEC,QAAAA,SAAS,EAAE,KAHb;AAIEC,QAAAA,QAAQ,EAAE;AAJZ;;AAMF;AACE,YAAM,IAAIQ,KAAJ,sBAA6BH,MAAM,CAACC,IAApC,CAAN;AAtBJ;AAwBD,CAzBD;;AA2BA,IAAMG,gBAAgB,GAAG,SAAnBA,gBAAmB,OAAkB;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AACzC,oBAA0BhB,UAAU,CAACS,OAAD,EAAUN,YAAV,CAApC;AAAA;AAAA,MAAOO,KAAP;AAAA,MAAcO,QAAd;;AACA,SACE,KAAC,uBAAD,CAAyB,QAAzB;AAAkC,IAAA,KAAK,EAAEA,QAAzC;AAAA,cACE,KAAC,oBAAD,CAAsB,QAAtB;AAA+B,MAAA,KAAK,EAAEP,KAAtC;AAAA,gBACGM;AADH;AADF,IADF;AAOD,CATD;;AAWA,OAAO,IAAME,WAAW,GAAG,SAAdA,WAAc,CAACD,QAAD,EAAc;AACvCA,EAAAA,QAAQ,CAAC;AACPL,IAAAA,IAAI,EAAE;AADC,GAAD,CAAR;AAGA,MAAMO,GAAG,GACP;AAAEjB,IAAAA,QAAQ,EAARA;AAAF,GADF;AAEAkB,EAAAA,KAAK,CACFC,GADH,CACOF,GADP,EAEGG,IAFH,CAEQ,UAACC,QAAD,EAAc;AAClBN,IAAAA,QAAQ,CAAC;AACPL,MAAAA,IAAI,EAAE,sBADC;AAEPC,MAAAA,OAAO,EAAE;AACPT,QAAAA,QAAQ,EAAEmB,QAAQ,CAACC;AADZ;AAFF,KAAD,CAAR;AAMD,GATH,EAUGC,KAVH,CAUS,UAACC,KAAD,EAAW;AAChBC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACAT,IAAAA,QAAQ,CAAC;AACPL,MAAAA,IAAI,EAAE;AADC,KAAD,CAAR;AAGD,GAfH;AAgBD,CAtBM;AAwBP,eAAeG,gBAAf","sourcesContent":["import React, { useReducer, createContext } from \"react\";\r\nimport FOODDATA from \"../data/FOODDATA\";\r\n\r\nconst initialState = {\r\n  products: null,\r\n  isLoading: false,\r\n  isLoaded: false\r\n};\r\n\r\nexport const ProductsStateContext = createContext();\r\nexport const ProductsDispatchContext = createContext();\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"GET_PRODUCTS_REQUEST\":\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        isLoaded: false\r\n      };\r\n    case \"GET_PRODUCTS_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        isLoaded: true,\r\n        products: action.payload.products\r\n      };\r\n    case \"GET_PRODUCTS_FAILURE\":\r\n      return {\r\n        ...state,\r\n        products: null,\r\n        isLoading: false,\r\n        isLoaded: false\r\n      };\r\n    default:\r\n      throw new Error(`Unknown action: ${action.type}`);\r\n  }\r\n};\r\n\r\nconst ProductsProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  return (\r\n    <ProductsDispatchContext.Provider value={dispatch}>\r\n      <ProductsStateContext.Provider value={state}>\r\n        {children}\r\n      </ProductsStateContext.Provider>\r\n    </ProductsDispatchContext.Provider>\r\n  );\r\n};\r\n\r\nexport const getProducts = (dispatch) => {\r\n  dispatch({\r\n    type: \"GET_PRODUCTS_REQUEST\"\r\n  });\r\n  const url =\r\n    { FOODDATA };\r\n  axios\r\n    .get(url)\r\n    .then((response) => {\r\n      dispatch({\r\n        type: \"GET_PRODUCTS_SUCCESS\",\r\n        payload: {\r\n          products: response.data\r\n        }\r\n      });\r\n    })\r\n    .catch((error) => {\r\n      console.error(error);\r\n      dispatch({\r\n        type: \"GET_PRODUCTS_FAILURE\"\r\n      });\r\n    });\r\n};\r\n\r\nexport default ProductsProvider;\r\n"]},"metadata":{},"sourceType":"module"}